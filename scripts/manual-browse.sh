#!/usr/bin/env bash
# requires https://github.com/junegunn/fzf

FUZZ="fzf --no-color --no-sort --info=hidden"
OPENER=$([[ "$OSTYPE" != "darwin"* ]] && echo xdg-open || echo open)

HELP=(
	"action"
	"alias"
	"all"
	"bell"
	"break"
	"buffer"
	"button"
	"case"
	"cat"
	"characters"
	"chat"
	"_class"
	"colors"
	"commands"
	"config"
	"continue"
	"coordinates"
	"cr"
	"cursor"
	"daemon"
	"debug"
	"default"
	"delay"
	"draw"
	"echo"
	"edit"
	"editing"
	"else"
	"elseif"
	"end"
	"escape_codes"
	"event"
	"foreach"
	"format"
	"function"
	"gag"
	"greeting"
	"grep"
	"help"
	"highlight"
	"history"
	"if"
	"ignore"
	"info"
	"keypad"
	"kill"
	"line"
	"list"
	"lists"
	"local"
	"log"
	"loop"
	"macro"
	"map"
	"mapping"
	"math"
	"mathematics"
	"message"
	"metric_system"
	"mouse"
	"msdp"
	"mslp"
	"nop"
	"parse"
	"path"
	"pathdir"
	"pcre"
	"port"
	"prompt"
	"read"
	"regexp"
	"repeat"
	"replace"
	"return"
	"run"
	"scan"
	"screen"
	"screen_reader"
	"script"
	"send"
	"session"
	"sessionname"
	"showme"
	"snoop"
	"speedwalk"
	"split"
	"ssl"
	"statements"
	"substitute"
	"suspend"
	"switch"
	"system"
	"tab"
	"textin"
	"ticker"
	"time"
	"variable"
	"while"
	"write"
	"zap"
)

SELECTION=$(printf "%s\n" "${HELP[@]}" | $FUZZ)

[[ -z $SELECTION ]] && exit 0

eval "$OPENER 'https://tintin.mudhalla.net/manual/$SELECTION.php'"
